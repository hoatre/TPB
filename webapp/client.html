<html>
  <head>

    <title>Heart Beat Dashboard</title>
   
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">

    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script type="text/javascript" src="http://localhost:3000/socket.io/socket.io.js"></script>
    <!--<script type="text/javascript" src="smoothie.js"></script>-->
      <script type="text/javascript" src="http://github.com/joewalnes/smoothie/raw/master/smoothie.js"></script>
    <script type="text/javascript" src="canvasjs.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

    <script type="text/javascript">
      var socket = io.connect('http://localhost:3000/');

      // Data
      var line1 = new TimeSeries();
      var line2 = new TimeSeries();
      var line3 = new TimeSeries();
      var line4 = new TimeSeries();
      
      //minutes

      var line5 = new TimeSeries();
      var line6 = new TimeSeries();
      var line7 = new TimeSeries();
      var line8 = new TimeSeries();

      function TopTen(Top) {
          socket.on('Top-' + Top, function (data1) {
              var array = $.map(data1, function (value, index) {
                  return [value];
              });
              var TopTenDepositTop1Acc = document.getElementById(Top + "-Account");
              TopTenDepositTop1Acc.innerHTML = array[0];
              var TopTenDepositTop1Amount = document.getElementById(Top + "-Amount");
              TopTenDepositTop1Amount.innerHTML = array[1];
          });
      }
      var chart = new SmoothieChart({
                  millisPerPixel: 30000/(window.innerWidth - 300),
                  grid: {
                      fillStyle: 'transparent',
                      strokeStyle: 'rgba(166,197,103,0.20)',
                      borderVisible: true
                  },
                  labels: { fillStyle: '#000000' }
              }),canvas = document.getElementById('chart'),
              series = new TimeSeries();
      function createTimeline() {
          $("#chart").attr({'width': window.innerWidth - 300, 'height': 200});

          $('#line11').on('click', line11);
          $('#line21').on('click', line21);
          $('#line31').on('click', line31);
          $('#line41').on('click', line41);

          for(z = 1;z<=5;z++) {
              TopTen('TopTenDeposit-Top' + z.toString());
              TopTen('TopTenDeposit-Bot' + z.toString());
              TopTen('TopTenWithdrawal-Top' + z.toString());
              TopTen('TopTenWithdrawal-Bot' + z.toString());
              TopTen('TopTenTransfer From-Top' + z.toString());
              TopTen('TopTenTransfer From-Bot' + z.toString());
          }

          socket.on('CountChart-real-time-Branch 1', function (data1) {
              line1.append(new Date().getTime(), data1);
          });
          socket.on('CountChart-real-time-Branch 2', function (data1) {
              line2.append(new Date().getTime(), data1);
          });
          socket.on('CountChart-real-time-Branch 3', function (data1) {
              line3.append(new Date().getTime(), data1);
          });
          socket.on('CountChart-real-time-Contact Center', function (data1) {
              line4.append(new Date().getTime(), data1);
          });
          socket.on('Total-TotalNoTran', function (data1) {
              var TotalNoTran = document.getElementById("TotalNoTran");
              TotalNoTran.innerHTML = data1.toString();
          });
          socket.on('Total-TotalAmount', function (data1) {
              var TotalAmount = document.getElementById("TotalAmount");
              TotalAmount.innerHTML = data1.toString();
          });
          chart.addTimeSeries(line1,
                  { strokeStyle: '#A6C567', lineWidth:3 });
          chart.addTimeSeries(line2,
                  { strokeStyle:'#0000FF', lineWidth:3 });
          chart.addTimeSeries(line3,
                  { strokeStyle:'#DC143C', lineWidth:3 });
          chart.addTimeSeries(line4,
                  { strokeStyle:'#FFD700', lineWidth:3 });

          chart.streamTo(document.getElementById("chart"), 1000);



      }

      function line11() {
          if($('#line11').is(':checked'))
              chart.addTimeSeries(line1,
                      { strokeStyle: '#A6C567', lineWidth:3 });
          else{
              chart.removeTimeSeries(line1);
          }
      }


      function line21() {
          if($('#line21').is(':checked'))
              chart.addTimeSeries(line2,
                      { strokeStyle:'#0000FF', lineWidth:3 });
          else{
              chart.removeTimeSeries(line2);
          }
      }

      function line31() {
          if($('#line31').is(':checked'))
              chart.addTimeSeries(line3,
                      { strokeStyle:'#DC143C', lineWidth:3 });
          else{
              chart.removeTimeSeries(line3);
          }
      }

      function line41() {
          if($('#line41').is(':checked'))
              chart.addTimeSeries(line4,
                      { strokeStyle:'#FFD700', lineWidth:3 });
          else{
              chart.removeTimeSeries(line4);
          }
      }
    </script>

  </head>

  <body onload="createTimeline()">
  <table width="100%">
      <colgroup>
          <col width="80%">
      </colgroup>
      <tr>
          <td style="padding-left: 50px; padding-right: 50px">
              <input type="checkbox" id="line11" name="Line11" checked="true" />Branch 1  <font  color="#A6C567">&#9642;</font></br>
              <input type="checkbox" id="line21" name="Line21" checked="true"/>Branch 2  <font  color="#0000FF">&#9642;</font></br>
              <input type="checkbox" id="line31" name="Line31" checked="true"/>Branch 3  <font  color="#DC143C">&#9642;</font></br>
              <input type="checkbox" id="line41" name="Line41" checked="true"/>Contact Center  <font  color="#FFD700">&#9642;</font></br>
          </td>
          <td>
          <canvas id="chart" height="200px"></canvas>
          </td>

      </tr>

  </table>
    <table width="100%">
        <colgroup>
            <col width="50%">
        </colgroup>
      <tr>
          <td>
              <b><i>Total No. of Transactions : </i></b><label id="TotalNoTran"></label>
          </td>

          <td> <b><i>Total Amount : </i></b><label id="TotalAmount"></label> </td>

      </tr>
        <tr>
            <td colspan="2">
                <table width="100%">
                    <colgroup>
                        <col width="33%">
                    </colgroup>
                    <tr>
                        <td>
                            <table style="	border: 1px solid black " width="100%">
                                <colgroup>
                                    <col width="70%">
                                </colgroup>
                                <tr>
                                    <th colspan="2">
                                        Top five Deposits
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        <b>Account</b>
                                    </td>
                                    <td>
                                        <b>Amount</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenDeposit-Top1-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenDeposit-Top1-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label type="text" id="TopTenDeposit-Top2-Account"></label>
                                    </td>
                                    <td>
                                        <label type="text" id="TopTenDeposit-Top2-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label type="text" id="TopTenDeposit-Top3-Account"></label>
                                    </td>
                                    <td>
                                        <label type="text" id="TopTenDeposit-Top3-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label type="text" id="TopTenDeposit-Top4-Account"></label>
                                    </td>
                                    <td>
                                        <label type="text" id="TopTenDeposit-Top4-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label type="text" id="TopTenDeposit-Top5-Account"></label>
                                    </td>
                                    <td>
                                        <label type="text" id="TopTenDeposit-Top5-Amount"></label>
                                    </td>
                                </tr>
                            </table>
                        </td>
                        <td>
                            <table style="	border: 1px solid black " width="100%">
                                <colgroup>
                                    <col width="70%">
                                </colgroup>
                                <tr>
                                    <th colspan="2">
                                        Top five Withdrawal
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        <b>Account</b>
                                    </td>
                                    <td>
                                        <b>Amount</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenWithdrawal-Top1-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenWithdrawal-Top1-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenWithdrawal-Top2-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenWithdrawal-Top2-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenWithdrawal-Top3-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenWithdrawal-Top3-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenWithdrawal-Top4-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenWithdrawal-Top4-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenWithdrawal-Top5-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenWithdrawal-Top5-Amount"></label>
                                    </td>
                                </tr>
                            </table>
                        </td>
                        <td>
                            <table style="	border: 1px solid black " width="100%">
                                <colgroup>
                                    <col width="70%">
                                </colgroup>
                                <tr>
                                    <th colspan="2">
                                        Top five Transfer
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        <b>Account</b>
                                    </td>
                                    <td>
                                        <b>Amount</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenTransfer From-Top1-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenTransfer From-Top1-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenTransfer From-Top2-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenTransfer From-Top2-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenTransfer From-Top3-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenTransfer From-Top3-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenTransfer From-Top4-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenTransfer From-Top4-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenTransfer From-Top5-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenTransfer From-Top5-Amount"></label>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <table style="	border: 1px solid black " width="100%">
                                <colgroup>
                                    <col width="70%">
                                </colgroup>
                                <tr>
                                    <th colspan="2">
                                        Bottom five Deposits
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        <b>Account</b>
                                    </td>
                                    <td>
                                        <b>Amount</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenDeposit-Bot5-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenDeposit-Bot5-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label type="text" id="TopTenDeposit-Bot4-Account"></label>
                                    </td>
                                    <td>
                                        <label type="text" id="TopTenDeposit-Bot4-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label type="text" id="TopTenDeposit-Bot3-Account"></label>
                                    </td>
                                    <td>
                                        <label type="text" id="TopTenDeposit-Bot3-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label type="text" id="TopTenDeposit-Bot2-Account"></label>
                                    </td>
                                    <td>
                                        <label type="text" id="TopTenDeposit-Bot2-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label type="text" id="TopTenDeposit-Bot1-Account"></label>
                                    </td>
                                    <td>
                                        <label type="text" id="TopTenDeposit-Bot1-Amount"></label>
                                    </td>
                                </tr>
                            </table>
                        </td>
                        <td>
                            <table style="	border: 1px solid black " width="100%">
                                <colgroup>
                                    <col width="70%">
                                </colgroup>
                                <tr>
                                    <th colspan="2">
                                        Bottom five Withdrawal
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        <b>Account</b>
                                    </td>
                                    <td>
                                        <b>Amount</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenWithdrawal-Bot5-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenWithdrawal-Bot5-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenWithdrawal-Bot4-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenWithdrawal-Bot4-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenWithdrawal-Bot3-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenWithdrawal-Bot3-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenWithdrawal-Bot2-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenWithdrawal-Bot2-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenWithdrawal-Bot1-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenWithdrawal-Bot1-Amount"></label>
                                    </td>
                                </tr>
                            </table>
                        </td>
                        <td>
                            <table style="	border: 1px solid black " width="100%">
                                <colgroup>
                                    <col width="70%">
                                </colgroup>
                                <tr>
                                    <th colspan="2">
                                        Bottom five Transfer
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        <b>Account</b>
                                    </td>
                                    <td>
                                        <b>Amount</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenTransfer From-Bot5-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenTransfer From-Bot5-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenTransfer From-Bot4-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenTransfer From-Bot4-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenTransfer From-Bot3-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenTransfer From-Bot3-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenTransfer From-Bot2-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenTransfer From-Bot2-Amount"></label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label id="TopTenTransfer From-Bot1-Account"></label>
                                    </td>
                                    <td>
                                        <label id="TopTenTransfer From-Bot1-Amount"></label>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                </table>
        </tr>
    </table>
  </body>
</html>

